<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <!-- displays site properly based on user's device -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/all.min.css">
  <link rel="icon" type="image/png" sizes="32x32" href="./assets/coming-soon/images/horizon/logoIcon.png">

  <!-- intlTelInput -->
  <link rel="stylesheet" href="assets/coming-soon/css/style.css">

  <link rel="stylesheet" href="intl-tel-input-17.0.0/build/css/intlTelInput.css">
  <!-- <link rel="stylesheet" href="intl-tel-input-17.0.0/build/css/demo.css"> -->


  <title>Horizon | Chat</title>

</head>

<body>

  <body>
    <div class="container">
      <div class="container-item">
        <main class="main">
          <div class="main__details">
            <!-- <img
              class="main__details-img"
              src="./images/horizon/IMG_0470.jpg.JPG"
              alt=""
            /> -->
            <img src="./assets/coming-soon/images/horizon/logoIcon.png" width="200px" alt="Logo" class="logo" />
            <h1 class="main__heading">
              <!-- <span class="main__heading-colored"></span><br /> -->
              Chat | Signup
            </h1>

            <p class="main__paragraph">
              Hello World! We're currently building our new Websites for User & Admin. Add your email below to stay
              up-to-date with announcements
              and our launch details.
            </p>

            <form class="subscribe-form" action="/signup" method="POST">
              <% if(msgs) { %>
                <% msgs.forEach(msg=> { %>
                  <div class="alert alert-success fade show" role="alert" style="display: grid;">
                    <strong
                      style="color: #F7EBD0; margin: 0 0 0.5em 0; background-color: #271b04; padding: 1em; border-radius: 0.25rem;">
                      <%= msgs[0] %>
                    </strong>
                  </div>
                  <% }); %>
                    <% } %>
                      <span id="valid-msg" class="hide">âœ“ Valid</span>
                      <span id="error-msg" class="hide"></span>
                      <br>
                      <input name="phone" id="phone" type="tel" placeholder="Enter Your Phone Number" required />
                      <input name="submit" type="submit" value="Send Verification Code"></input>
                      <hr>
                      <a href="/login">Login</a>
            </form>
          </div>

          <!-- <div class="main__img-container">
            <img src="./assets/coming-soon/images/horizon/1-2.JPG" alt="" class="main__img" />
          </div> -->
        </main>
      </div>
    </div>
    <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.0/jquery.min.js" type="text/javascript"></script>
    <script src="intl-tel-input-17.0.0/build/js/intlTelInput.js"></script>
    <script>
      var input = document.querySelector("#phone"),
        errorMsg = document.querySelector("#error-msg"),
        validMsg = document.querySelector("#valid-msg");

      // here, the index maps to the error code returned from getValidationError - see readme
      var errorMap = ["Invalid number", "Invalid country code", "Too short", "Too long", "Invalid number"];

      // initialise plugin
      var iti = window.intlTelInput(input, {
        utilsScript: "intl-tel-input-17.0.0/build/js/utils.js?1613236686837",
        nationalMode: false,
        autoHideDialCode: false,
        separateDialCode: false,
        initialCountry: "eg"
      });

      var reset = function () {
        input.classList.remove("error");
        errorMsg.innerHTML = "";
        errorMsg.classList.add("hide");
        validMsg.classList.add("hide");
      };

      // on blur: validate
      input.addEventListener('blur', function () {
        reset();
        if (input.value.trim()) {
          if (iti.isValidNumber()) {
            validMsg.classList.remove("hide");
          } else {
            input.classList.add("error");
            var errorCode = iti.getValidationError();
            errorMsg.innerHTML = errorMap[errorCode];
            errorMsg.classList.remove("hide");
          }
        }
      });

      // on keyup / change flag: reset
      input.addEventListener('change', reset);
      input.addEventListener('keyup', reset);
    </script>
  </body>

</html>